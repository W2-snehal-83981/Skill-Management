<div class="container mt-5">
  <div class="dashboard-container">
    
    <div class="sidebar bg-dark text-white">
      <h1 class="dashboard-title p-3 text-center">
        <i class="bi bi-speedometer2 me-2"></i>Employee Dashboard
      </h1>
  </div>
  <!-- Profile Info -->
  <div class="d-flex justify-content-between align-items-center mb-4">
    <div class="d-flex align-items-center">
      <!-- Profile Image -->
      <!-- <img *ngIf="employee?.profile_photo" [src]="employee?.profile_photo" alt="Profile Photo" class="rounded-circle" width="50" height="50"> -->
    
      <div class="ms-3">
        <!-- Employee Name and ID -->
        <h5>{{ employee.EmployeeName }}</h5>
        <p class="text-muted">Employee ID: {{ employee?.EmployeeID }}</p>
      </div>
    </div>

    <div class="date-container me-3 d-flex align-items-center">
      <span class="text-muted me-2">
        <i class="bi bi-calendar-check me-1"></i>Today:
      </span>
      <span class="fw-bold">
        {{ 'fullDate' | todayDate }}
      </span>
    </div>

    <!-- Logout Button -->
    <button class="btn btn-outline-danger" (click)="logout()"> <i class="bi bi-box-arrow-right me-2"></i>Logout</button>
  </div>

  <!-- Employee Info  -->
  <div *ngIf="!isLoading" class="row">
    
    <div class="col-md-6">
      <div class="card shadow-sm mb-4">
        <div class="card-header bg-primary text-white d-flex justify-content-between align-items-center">
          <h5 class="mb-0">Employee Information</h5>
          <button class="btn btn-sm btn-light" (click)="goToEdit(employee.EmployeeID)">
            <i class="bi bi-pencil"></i>
          </button>
        </div>
        
        <div class="card-body">
        
          <div class="row">
            <div class="col-md-6">
              <p><strong>Employee ID:</strong> {{ employee?.EmployeeID}}</p>
            </div>
            <div class="col-md-6">
              <p><strong>Name:</strong> {{ employee?.EmployeeName }}</p>
            </div>
            <div class="col-md-6">
              <p><strong>Department:</strong> {{ employee?.DepartmentName }}</p>
            </div>
            <div class="col-md-6">
              <p><strong>Skill Category:</strong> {{ employee?.SkillCategory }}</p>
            </div>
            <div class="col-md-6">
              <p><strong>Primary Skill:</strong> {{ employee?.PrimarySkill }}</p>
            </div>
            <div class="col-md-6">
              <p><strong>Skill Level:</strong> {{ employee?.SkillLevel }}</p>
            </div>
            <div class="col-md-6">
              <p><strong>Date of Joining:</strong> {{ employee?.DateOfJoining | date }}</p>
            </div>
          </div>
        </div>
      </div>
    </div>

    <!-- Additional Info: Training Link and Status -->
    <div class="col-md-6">
      <div class="card shadow-sm">
        <div class="card-header bg-secondary text-white">
          <h5>Additional Information</h5>
        </div>
       
        <div class="card-body">
          <p><strong>Training Link:</strong> <a [href]="employee?.AssignedTrainingLink" target="_blank" class="text-decoration-none">{{ employee?.AssignedTrainingLink }}</a></p>

          <p><strong>Status:</strong> 
            <span>{{ employee?.Status }}</span> 
          </p>
            <form [formGroup]="statusForm">
              <select formControlName="status" (change)="updateStatus()" class="form-control">
                <option value="In Progress">In Progress</option>
                <option value="Completed">Completed</option>
              </select>
            </form>   
        </div>
      </div>
    </div>
  </div>

  <!-- Loading Spinner -->
  <div *ngIf="isLoading" class="d-flex justify-content-center">
    <div class="spinner-border text-primary" role="status">
      <span class="visually-hidden">Loading...</span>
    </div>
  </div>
</div>
